let m=klaro.getManager();let c=m.defaultConsents;let isOnceCall=false;function agreedAll(){for(let prop in c)if(Object.prototype.hasOwnProperty.call(c,prop))if(!m.getConsent(prop))return false;return true}function rejectedAll(){for(let prop in c)if(Object.prototype.hasOwnProperty.call(c,prop))if(m.getConsent(prop))return false;return true}function handleService(consent,state){let key=`${consent}-${state}`;let nodes=document.querySelectorAll(`[data-namep$=${key}]:not([data-namep^=servicesall])`);nodes.forEach(el=>{let service=el.dataset.namep.substring(0,el.dataset.namep.length-key.length-1),c=m.getConsent(service),condition=state==="show"?c:!c,condition2=consent==="agreed"?condition:!condition;el.style.display=condition2?"block":"none"})}function handleWatcherUpdate(consents){for(const[service,consent]of Object.entries(consents)){let selectorToShow=`[data-namep=${service}-agreed-show], [data-namep=${service}-rejected-hide]`,selectorToHide=`[data-namep=${service}-agreed-hide], [data-namep=${service}-rejected-show]`,show=document.querySelectorAll(selectorToShow),hide=document.querySelectorAll(selectorToHide);show.forEach(el=>{el.style.display=consent?"block":"none"});hide.forEach(el=>{el.style.display=consent?"none":"block"})}}let watcher1={update:function(obj,name,consents){if(name==="applyConsents"){isOnceCall=true;handleWatcherUpdate(obj.executedOnce)}else{if(!isOnceCall){handleWatcherUpdate(consents);isOnceCall=false}}}};m.watch(watcher1);if(agreedAll()){document.querySelectorAll("[data-namep=servicesall-agreed-show]").forEach(el=>{el.style.display="block"})}if(rejectedAll()){document.querySelectorAll("[data-namep=servicesall-rejected-show]").forEach(el=>{el.style.display="block"})}handleService("agreed","show");handleService("agreed","hide");handleService("rejected","show");handleService("rejected","hide");